//=============================================================================
//
// ブラー処理 [blur.cpp]
// Author : 
//
//=============================================================================
#include "main.h"
#include "renderer.h"
#include "blur.h"

//*****************************************************************************
// グローバル変数
//*****************************************************************************
#define WEIGHT_NUM (8)
//=============================================================================
// 初期化処理
//=============================================================================
void InitBlur(void)
{

}

//=============================================================================
// 終了処理
//=============================================================================
void UninitBlur(void)
{
}

void UpdateBlur(float d)
{
	//ガウス関数による配列の作成
	float total = 0;
	float tbl[WEIGHT_NUM];
	for (int i = 0; i < WEIGHT_NUM; i++)
	{
		tbl[i] = expf(-0.5f*(float)(i*i) / d);
		if (i == 0)
		{
			total += tbl[i];
		}
		else
		{
			total += 2.0f*tbl[i];
		}
	}

	//規格化
	for (int i = 0; i < WEIGHT_NUM; i++)
		tbl[i] /= total;
	
}